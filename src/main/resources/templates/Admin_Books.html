<!DOCTYPE html>
<html>
<head>
  <title>Bookstore Admin</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="/sort.js"></script>
  <script src="/Admin_Books.js"></script>
  <script>
    // Apply sorting logic for the admin view
    applySortDropdown('sortDropdown', '/amazinBookstore/admin/books');
  </script>
  <link rel="stylesheet" href="/Admin_Books.css"></link>
</head>
<body>

<h1>Bookstore Admin</h1>

<a th:href="@{/amazinBookstore}">
  <button type="button" style="float: right">Back to Menu</button>
</a>

<!-- Sorting Dropdown -->
<h2>Sort Books</h2>
<select id="sortDropdown">
  <option value="">Default</option>
  <option value="alphabetical">Alphabetical</option>
</select>

<h2>Add New Book</h2>
<form id="addBookForm">
  <input type="text" id="title" placeholder="Title" required>
  <input type="text" id="authorNames" placeholder="Author Names (comma separated)" required>
  <input type="text" id="genre" placeholder="Genre" required>
  <input type="text" id="isbn" placeholder="ISBN" required>
  <input type="number" id="pageCount" placeholder="Page Count" required>
  <input type="number" id="price" placeholder="Price" step="0.01" required>
  <input type="text" id="publisherName" placeholder="Publisher Name" required>
  <input type="number" id="quantity" placeholder="Quantity" required>
  <input type="number" id="year" placeholder="Year" required>
  <button type="submit">Add Book</button>
</form>

<h2>All Books</h2>
<table id="booksTable">
  <thead>
  <tr>
    <th>Title</th>
    <th>Authors</th>
    <th>Genre</th>
    <th>ISBN</th>
    <th>Page Count</th>
    <th>Price</th>
    <th>Publisher</th>
    <th>Quantity</th>
    <th>Year</th>
    <th>Actions</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="book : ${books}">
    <td th:text="${book.title}">Title</td>
    <td th:text="${book.getAuthorNamesAsString()}">Authors</td>
    <td th:text="${book.genre}">Genre</td>
    <td th:text="${book.isbn}">ISBN</td>
    <td th:text="${book.pageCount}">Page Count</td>
    <td th:text="${book.price}">Price</td>
    <td th:text="${book.publisherName}">Publisher</td>
    <td th:text="${book.quantity}">Quantity</td>
    <td th:text="${book.publicationYear}">Year</td>
    <td>
      <button class="edit-button" data-id="${book.id}">Edit</button>
      <button class="delete-button" data-id="${book.id}">Delete</button>
    </td>
  </tr>
  </tbody>

</table>

</body>
</html>
